
<div class="d-flex justify-content-end align-items-center   my-3">
  <button class="addTask" mat-raised-button (click)="addTask()" >Add Transaction</button>
</div>
<form class="border p-2 m-2  shadow" style="background-color: rgb(255, 254, 254); border-radius: 30px;">
  <h3 style="color:brown;font-size: 18px;">Search</h3>
    <div class="row m-2 ">
          <div class="col-md-3"  style="padding: 7.5px;">
            <app-ddl-searchable *ngIf="usersObj" [objData]="usersObj"
            #users></app-ddl-searchable>
          </div>
            <div class="col-md-3 " style="padding: 7.5px;">
              <app-ddl-searchable *ngIf="customersObj" [objData]="customersObj"
               #customers></app-ddl-searchable>
            </div> 
            <div class="col-md-3 ">
              <mat-form-field appearance="outline" class="w-100 p-0 m-0"  >
                <mat-label>Choose a Start date</mat-label>
                <div class="d-flex w-100 " >
                  <input matInput [matDatepicker]="pickerstart" #start>
                  <mat-datepicker-toggle matIconSuffix [for]="pickerstart"></mat-datepicker-toggle>
                </div>
                <mat-datepicker #pickerstart></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-md-3" >
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Choose a End date</mat-label>
                <div class="d-flex">
                  <input matInput [matDatepicker]="pickerEnd"  #end>
                  <mat-datepicker-toggle matIconSuffix [for]="pickerEnd"></mat-datepicker-toggle>
                </div>
                <mat-datepicker #pickerEnd></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-12">
              <div class="btns d-flex justify-content-end">
                <button class="btn btn-secondary" (click)="search($event,start.value,end.value)">Search</button>
                <button class="btn " style="background-color: #ffb64d;" (click)="resetSearch(start.value,end)">Reset</button>
              </div>
            </div>

    </div>
</form>
<div class="my-2 mx-4 pb-2 mat-elevation-z8" >

    <div class="listBox">
      <div class="table-responsive">
        <table class="table table-hover ">
            <thead>
              <tr class="text-center text-white text-light">
                <th>Index</th>
                <th>Employee Name</th>
                <th>Customer Name</th>
                <th>Service Name</th>
                <th>Quantity</th>
                <th>Price per unit</th>
                <th>Total Price</th>
                <th>Payment Amount</th>
                <th>Balance Due</th>
                <th>Profite</th>
                <th>Date</th>
                <th colspan="2">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let transaction of dataSource  ;let index=index" class="text-center">
                <td>{{index+1}}</td>
                <td>{{transaction.user.name}}</td>
                <td>{{transaction.customer.name}}</td>
                <td>{{transaction.service.name}}</td>
                <td>{{transaction.quantity}}</td>
                <td>{{transaction.price}}</td>
                <td>{{transaction.totalPrice}}</td>
                <td>{{transaction.paymentAmount}}</td>
                <td>{{transaction.balanceDue}}</td>
                <td>{{transaction.profite}}</td>
                <td>{{transaction.createdAt | date}}</td>
                <td><button (click)="updateTask($event,transaction)" class="btn btn-info" >Update</button></td>
                <td><button (click)="deleteTask(transaction.id)" class="btn btn-danger">Delete</button></td>
              </tr>
             
            </tbody>

          </table>
      </div>
          <div class="d-flex justify-content-center ">
            <mat-paginator #paginator
                 class="demo-paginator font-weight-light border rounded"
                 (page)="handlePageEvent($event)"
                 [length]="length"
                 [pageSize]="pageSize"
                 [disabled]="disabled"
                 [showFirstLastButtons]="showFirstLastButtons"
                 [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
                 [hidePageSize]="hidePageSize"
                 [pageIndex]="pageIndex"
                 aria-label="Select page">
            </mat-paginator>
          </div>



    </div>

</div>
